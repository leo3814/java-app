pipeline {
    agent any

    stages {
     stage('sshUserPrivateKey') {
       steps {
        script {
            withCredentials([
                sshUserPrivateKey(
                    credentialsId: 'production-bastion',
                    keyFileVariable: 'keyFile',
                    usernameVariable: 'username'
                )
            ]) {
                print 'keyFile=' + keyFile
                print 'username=' + username
                print 'keyFile.collect { it }=' + keyFile.collect { it }
                print 'username.collect { it }=' + username.collect { it }
                print 'keyFileContent=' + readFile(keyFile)
             }
           }
        }
     } 
   }
}
